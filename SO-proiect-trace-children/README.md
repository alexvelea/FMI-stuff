# trace-children
The 2k18 way to trace a process children in linux

Tired of checking top every time to see the stats on that pesky crypto node?  
Do you like cool-looking, accurate and meaningful stats?
### Then trace-children is for you!

### How to install ğŸ¥‡
```
git clone https://github.com/alexvelea/trace-children
cd trace-children
cmake CMakeLists.txt
sudo make install
```

### How to use ğŸƒ
```
tracechildren 4607
```
Possible output ğŸŒ³
```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ pid             53539       name            fork_test       â”‚
 â•”â• â”‚ cpu%            0.0         cputime         0:00.100        â”‚
 â•‘  â”‚ systime         0:00.000    walltime        4:56.868        â”‚
 â•‘  â”‚ virtual memory  4.3MB       real memory     0.7MB           â”‚
 â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â•‘      â”‚ pid             53540       name            fork_test       â”‚
 â•šâ•â•â•â•¦â• â”‚ cpu%            1.0         cputime         0:03.440        â”‚
     â•‘  â”‚ systime         0:00.190    walltime        4:55.254        â”‚
     â•‘  â”‚ virtual memory  4.3MB       real memory     88KB            â”‚
     â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â•‘      â”‚ pid             53542       name            fork_test       â”‚
     â• â•â•â•â•¦â• â”‚ cpu%            2.0         cputime         0:06.330        â”‚
     â•‘   â•‘  â”‚ systime         0:00.180    walltime        4:55.150        â”‚
     â•‘   â•‘  â”‚ virtual memory  4.3MB       real memory     92KB            â”‚
     â•‘   â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â•‘   â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â•‘   â•‘      â”‚ pid             53544       name            fork_test       â”‚
     â•‘   â• â•â•â•â•¦â• â”‚ cpu%            3.0         cputime         0:09.630        â”‚
     â•‘   â•‘   â•‘  â”‚ systime         0:00.240    walltime        4:55.141        â”‚
     â•‘   â•‘   â•‘  â”‚ virtual memory  4.3MB       real memory     92KB            â”‚
     â•‘   â•‘   â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â•‘   â•‘   â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â•‘   â•‘   â•‘      â”‚ pid             53548       name            fork_test       â”‚
     â•‘   â•‘   â•šâ•â•â•â•â• â”‚ cpu%            2.0         cputime         0:04.750        â”‚
     â•‘   â•‘          â”‚ systime         0:00.230    walltime        4:55.142        â”‚
     â•‘   â•‘          â”‚ virtual memory  4.3MB       real memory     92KB            â”‚
     â•‘   â•‘          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â•‘   â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â•‘   â•‘      â”‚ pid             53545       name            fork_test       â”‚
     â•‘   â•šâ•â•â•â•¦â• â”‚ cpu%            0.0         cputime         0:00.960        â”‚
     â•‘       â•‘  â”‚ systime         0:00.200    walltime        4:55.142        â”‚
     â•‘       â•‘  â”‚ virtual memory  4.3MB       real memory     92KB            â”‚
     â•‘       â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â•‘       â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â•‘       â•‘      â”‚ pid             53546       name            fork_test       â”‚
     â•‘       â•šâ•â•â•â•â• â”‚ cpu%            3.0         cputime         0:07.070        â”‚
     â•‘              â”‚ systime         0:00.180    walltime        4:55.143        â”‚
     â•‘              â”‚ virtual memory  4.3MB       real memory     92KB            â”‚
     â•‘              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â•‘      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â•‘      â”‚ pid             53543       name            fork_test       â”‚
     â•šâ•â•â•â•â• â”‚ cpu%            2.0         cputime         0:07.920        â”‚
            â”‚ systime         0:00.160    walltime        4:55.156        â”‚
            â”‚ virtual memory  4.3MB       real memory     92KB            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Want to use as a library? ğŸ“–
```
#include <trace_children.h>
#include <unistd.h>

int main(int argc, char* argv[]) {
    struct ProcessStats* root = getProcessStats(1);
    sleep(1); // wait 1 sec for that juicy percentage information
    updateProcessStatsRecursive(root); 
    printProcessStats(root);
    dealloc(root); // we don't like leaks
    return 0;
}
```

### Do you like low compile times or you have a bigger project?
Use static library to solve all your problems! ğŸ‰  
Just add the 2 magic flags: `-Dtracechildrenuselib -ltracechildrenlib`

### Want to test trace-children in your house with a nice example?
After installing, in the repository directory, run
```
 make; mkfifo a; ./build/bin/fork_test >a & ./build/bin/tracechildren <a && pkill fork_test; && rm a
```
